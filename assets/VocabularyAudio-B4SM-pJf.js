import{_ as x,g as l,o as a,c as i,b as t,n as h,h as u,F as b}from"./app-DuHMcjR1.js";const U=async(r,o={})=>{const n=new URLSearchParams;Object.entries(o).forEach(([e,s])=>{n.append(e,s)});try{const e=await fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("请求出错:",e),e}},k="https://vpn.ruancong130.workers.dev/?url=",P={WORD_QUERY:`${k}${encodeURIComponent("https://dict.youdao.com/jsonapi_s?doctype=json&jsonversion=4")}`},w=async r=>await U(P.WORD_QUERY,{q:r}),R={__name:"VocabularyAudio",props:{vocabulary:{type:String,required:!0}},setup(r,{expose:o}){o();const n=`https://dict.youdao.com/dictvoice?type=1&audio=${r.vocabulary}`,e=l(null),s=l(!1),c=l(null),p=l(null),v={audioUrl:n,audioElement:e,isMore:s,videoUrl:c,picDict:p,togglePlay:()=>{e.value.paused?e.value.play():(e.value.pause(),e.value.currentTime=0)},toggleMore:async()=>{var m,y,_,f,g;if(s.value=!s.value,s.value){const d=await w(r.vocabulary);console.log(d),c.value=(_=(y=(m=d.word_video)==null?void 0:m.word_videos[0])==null?void 0:y.video)==null?void 0:_.url,p.value=(g=(f=d.pic_dict)==null?void 0:f.pic[0])==null?void 0:g.url}},ref:l,get getWordInfo(){return w}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},D={class:"flex items-center"},O={key:0},E={key:0},M=["src"],j={key:1},C=["src"];function A(r,o,n,e,s,c){return a(),i(b,null,[o[4]||(o[4]=t("h4",null,"单词多媒体信息:",-1)),t("div",D,[o[0]||(o[0]=t("span",null,"美音: ",-1)),t("div",{class:"ml-2 text-orange-500 text-5 active:opacity-50","i-material-symbols-volume-up-rounded":"",onClick:e.togglePlay},[t("audio",{ref:"audioElement",src:e.audioUrl,style:{display:"none"}},null,512)])]),t("div",{class:"flex items-center",onClick:e.toggleMore},[o[1]||(o[1]=t("span",null,"相关图片视频",-1)),t("div",{class:h(["w-8 h-8",{"i-si:expand-less-fill":e.isMore,"i-si:expand-more-fill text-orange-500":!e.isMore}])},null,2)]),e.isMore?(a(),i("div",O,[e.videoUrl?(a(),i("div",E,[o[2]||(o[2]=t("p",null,"视频讲解：",-1)),t("video",{width:"460",src:e.videoUrl,controls:""},null,8,M)])):u("",!0),e.picDict?(a(),i("div",j,[o[3]||(o[3]=t("p",null,"图片讲解：",-1)),t("img",{class:"max-w-200px",src:e.picDict,alt:"图片讲解"},null,8,C)])):u("",!0)])):u("",!0)],64)}const W=x(R,[["render",A],["__file","VocabularyAudio.vue"]]);export{W as default};
