import{_ as b,g as a,o as i,c,b as t,n as h,h as w,F as U}from"./app-gX_sZAtP.js";const k=async(r,o={})=>{const s=new URLSearchParams;Object.entries(o).forEach(([e,n])=>{s.append(e,n)});try{const e=await fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("请求出错:",e),e}},P="https://vpn.ruancong130.workers.dev/?url=",R={WORD_QUERY:`${P}${encodeURIComponent("https://dict.youdao.com/jsonapi_s?doctype=json&jsonversion=4")}`},x=async r=>await k(R.WORD_QUERY,{q:r}),D={__name:"VocabularyAudio",props:{vocabulary:{type:String,required:!0}},setup(r,{expose:o}){o();const s=a(null),e=`https://dict.youdao.com/dictvoice?type=1&audio=${r.vocabulary}`,n=a(!1),l=a(!1),u=a(null),p=a(null),v={audioElement:s,audioUrl:e,mediaIsLoading:n,isMore:l,videoUrl:u,picDict:p,togglePlay:()=>{s.value.paused?s.value.play():(s.value.pause(),s.value.currentTime=0)},toggleMore:async()=>{var m,y,f,_,g;if(l.value=!l.value,!l.value)return;n.value=!0;const d=await x(r.vocabulary);console.log(d),u.value=(f=(y=(m=d.word_video)==null?void 0:m.word_videos[0])==null?void 0:y.video)==null?void 0:f.url,p.value=(g=(_=d.pic_dict)==null?void 0:_.pic[0])==null?void 0:g.url,n.value=!1},ref:a,get getWordInfo(){return x}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},O={class:"flex items-center"},E={key:0},j={key:1},C={key:0},I=["src"],M={key:1},A=["src"];function S(r,o,s,e,n,l){return i(),c(U,null,[o[5]||(o[5]=t("h4",null,"单词多媒体信息:",-1)),t("div",O,[o[0]||(o[0]=t("span",null,"美音: ",-1)),t("div",{class:"ml-2 text-orange-500 text-5 active:opacity-50","i-material-symbols-volume-up-rounded":"",onClick:e.togglePlay},[t("audio",{ref:"audioElement",src:e.audioUrl,style:{display:"none"}},null,512)])]),t("div",{class:"flex items-center",onClick:e.toggleMore},[o[1]||(o[1]=t("span",null,"相关图片视频",-1)),t("div",{class:h(["w-8 h-8",{"i-si:expand-less-fill":e.isMore,"i-si:expand-more-fill text-orange-500":!e.isMore}])},null,2)]),e.mediaIsLoading?(i(),c("div",E,o[2]||(o[2]=[t("p",{class:"text-orange-500"},"加载中...",-1)]))):(i(),c("div",j,[e.videoUrl?(i(),c("div",C,[o[3]||(o[3]=t("p",null,"视频讲解：",-1)),t("video",{width:"460",src:e.videoUrl,controls:""},null,8,I)])):w("",!0),e.picDict?(i(),c("div",M,[o[4]||(o[4]=t("p",null,"图片讲解：",-1)),t("img",{class:"max-w-200px",src:e.picDict,alt:"图片讲解"},null,8,A)])):w("",!0)]))],64)}const L=b(D,[["render",S],["__file","VocabularyAudio.vue"]]);export{L as default};
