import{_ as h,g as a,o as i,c,b as t,n as U,h as p,F as k}from"./app-D61hGQMB.js";const P=async(r,o={})=>{const s=new URLSearchParams;Object.entries(o).forEach(([e,n])=>{s.append(e,n)});try{const e=await fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("请求出错:",e),e}},R="https://vpn.ruancong130.workers.dev/?url=",D={WORD_QUERY:`${R}${encodeURIComponent("https://dict.youdao.com/jsonapi_s?doctype=json&jsonversion=4")}`},b=async r=>await P(D.WORD_QUERY,{q:r}),M={__name:"VocabularyAudio",props:{vocabulary:{type:String,required:!0}},setup(r,{expose:o}){o();const s=a(null),e=`https://dict.youdao.com/dictvoice?type=1&audio=${r.vocabulary}`,n=a(!1),l=a(!1),d=a(!1),v=a(null),m=a(null),y={audioElement:s,audioUrl:e,mediaIsLoading:n,isMore:l,isMediaLoaded:d,videoUrl:v,picDict:m,togglePlay:()=>{s.value.paused?s.value.play():(s.value.pause(),s.value.currentTime=0)},toggleMore:async()=>{var f,_,g,w,x;if(l.value=!l.value,!d.value&&l.value){n.value=!0;const u=await b(r.vocabulary);console.log(u),v.value=(g=(_=(f=u.word_video)==null?void 0:f.word_videos[0])==null?void 0:_.video)==null?void 0:g.url,m.value=(x=(w=u.pic_dict)==null?void 0:w.pic[0])==null?void 0:x.url,n.value=!1,d.value=!0}},ref:a,get getWordInfo(){return b}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},O={class:"flex items-center"},E={key:0},j={key:1},C={key:0},I=["src"],A={key:1},L=["src"];function S(r,o,s,e,n,l){return i(),c(k,null,[o[5]||(o[5]=t("h4",null,"单词多媒体信息:",-1)),t("div",O,[o[0]||(o[0]=t("span",null,"美音: ",-1)),t("div",{class:"ml-2 text-orange-500 text-5 active:opacity-50","i-material-symbols-volume-up-rounded":"",onClick:e.togglePlay},[t("audio",{ref:"audioElement",src:e.audioUrl,style:{display:"none"}},null,512)])]),t("div",{class:"flex items-center",onClick:e.toggleMore},[o[1]||(o[1]=t("span",null,"相关图片视频",-1)),t("div",{class:U(["w-8 h-8",{"i-si:expand-less-fill":e.isMore,"i-si:expand-more-fill text-orange-500":!e.isMore}])},null,2)]),e.mediaIsLoading?(i(),c("div",E,o[2]||(o[2]=[t("p",{class:"text-orange-500"},"加载中...",-1)]))):e.isMore?(i(),c("div",j,[e.videoUrl?(i(),c("div",C,[o[3]||(o[3]=t("p",null,"视频讲解：",-1)),t("video",{class:"max-w-95% w-420px",src:e.videoUrl,controls:""},null,8,I)])):p("",!0),e.picDict?(i(),c("div",A,[o[4]||(o[4]=t("p",null,"图片讲解：",-1)),t("img",{class:"max-w-200px",src:e.picDict,alt:"图片讲解"},null,8,L)])):p("",!0)])):p("",!0)],64)}const Y=h(M,[["render",S],["__file","VocabularyAudio.vue"]]);export{Y as default};
