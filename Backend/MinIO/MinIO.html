<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/images/logo.svg"><title>MinIO | Notes</title><meta name="description" content="MinIO学习">
    <link rel="preload" href="/assets/style-PKzSFNhg.css" as="style"><link rel="stylesheet" href="/assets/style-PKzSFNhg.css">
    <link rel="modulepreload" href="/assets/app-5tRwRGvW.js"><link rel="modulepreload" href="/assets/MinIO.html-pwGiTbYt.js">
    <link rel="prefetch" href="/assets/index.html-DcoXA7Zd.js" as="script"><link rel="prefetch" href="/assets/linux.html-D08SzZTj.js" as="script"><link rel="prefetch" href="/assets/docker.html-D3mNTnzJ.js" as="script"><link rel="prefetch" href="/assets/forget-lock-psw.html-Bo7pcx0j.js" as="script"><link rel="prefetch" href="/assets/raft.html-Iy0SdbJ-.js" as="script"><link rel="prefetch" href="/assets/split-brain.html-B1vljTmd.js" as="script"><link rel="prefetch" href="/assets/network-basis.html-Bn8onJXn.js" as="script"><link rel="prefetch" href="/assets/问题解决.html-CgCKMZth.js" as="script"><link rel="prefetch" href="/assets/English-Grammar.html-BmSMclwa.js" as="script"><link rel="prefetch" href="/assets/英语句子解析.html-ChTBXBxD.js" as="script"><link rel="prefetch" href="/assets/template.html-4snxPmqe.js" as="script"><link rel="prefetch" href="/assets/react-router.html-DmL5Ocpf.js" as="script"><link rel="prefetch" href="/assets/react.html-AkCyiq7e.js" as="script"><link rel="prefetch" href="/assets/05-20.html-DFpN6xhT.js" as="script"><link rel="prefetch" href="/assets/05-21.html-D9iVYIMJ.js" as="script"><link rel="prefetch" href="/assets/05-22.html-CsxlYU8A.js" as="script"><link rel="prefetch" href="/assets/05-23.html-C_YH86eI.js" as="script"><link rel="prefetch" href="/assets/01-03.html-2eDUC4Z3.js" as="script"><link rel="prefetch" href="/assets/01-08.html-T2VgqsPf.js" as="script"><link rel="prefetch" href="/assets/01-10.html-Dc9xTLlH.js" as="script"><link rel="prefetch" href="/assets/01-15.html-BrjsfPPD.js" as="script"><link rel="prefetch" href="/assets/404.html-BrkOYRPf.js" as="script"><link rel="prefetch" href="/assets/VocabularyAudio-CM4JwYWq.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-DIV4xCPc.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/images/logo.svg" alt="Notes"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Notes</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="首页"><!---->首页<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/ruancong/ruancong.github.io" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="首页"><!---->首页<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/ruancong/ruancong.github.io" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">MinIO <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h2 id="单节点-单驱动安装-minio" tabindex="-1"><a class="header-anchor" href="#单节点-单驱动安装-minio"><span>单节点-单驱动安装 MinIO</span></a></h2><p>SNSD(Single-Node Single-Drive) 只适用于本地和测试环境，不适用于生产环境。因为它是zero-parity的，没有数据冗余。</p><h3 id="pre-existing-data" tabindex="-1"><a class="header-anchor" href="#pre-existing-data"><span>Pre-Existing Data</span></a></h3><p>MinIO 是否可以启动成功，取决于是否存在 pre-existing data。</p><p>The following table lists the possible storage volume states and MinIO behavior:</p><table><thead><tr><th style="text-align:left;">Storage Volume State</th><th style="text-align:left;">Behavior</th></tr></thead><tbody><tr><td style="text-align:left;">Empty with <strong>no</strong> files, folders, or MinIO backend data</td><td style="text-align:left;">MinIO starts in SNSD mode and creates the zero-parity backend</td></tr><tr><td style="text-align:left;">Existing SNSD zero-parity objects and MinIO backend data</td><td style="text-align:left;">MinIO resumes in SNSD mode</td></tr><tr><td style="text-align:left;">Existing filesystem folders, files, but <strong>no</strong> MinIO backend data</td><td style="text-align:left;">MinIO returns an error and does not start</td></tr><tr><td style="text-align:left;">Existing filesystem folders, files, and legacy “FS-mode” backend data</td><td style="text-align:left;">MinIO returns an error and does not start<em>Changed in version RELEASE.2022-10-29T06-21-33Z.</em></td></tr></tbody></table><h3 id="storage-requirements" tabindex="-1"><a class="header-anchor" href="#storage-requirements"><span>Storage Requirements</span></a></h3><ul><li><p>Use Local Storage</p></li><li><p>Use XFS-Formatting for Drives</p><p>MinIO strongly recommends provisioning XFS formatted drives for storage.</p></li><li><p>Persist Drive Mounting and Mapping Across Reboots</p><p>Use <code>/etc/fstab</code> to ensure consistent drive-to-mount mapping across node reboots.</p></li></ul><div class="hint-container caution"><p class="hint-container-title">Caution</p><p><strong>Exclusive access to drives</strong></p><p>MinIO requires exclusive access to the drives or volumes provided for object storage. No other processes, software, scripts, or persons should perform any actions directly on the drives or volumes provided to MinIO or the objects or files MinIO places on them.</p></div><h3 id="memory-requirements" tabindex="-1"><a class="header-anchor" href="#memory-requirements"><span>Memory Requirements</span></a></h3><p><em>Changed in version RELEASE.2024-01-28T22-35-53Z:</em> MinIO pre-allocates 2GiB of system memory at startup.</p><p>MinIO recommends a <em>minimum</em> of 32GiB of memory per host. See <a href="https://min.io/docs/minio/linux/operations/checklists/hardware.html#minio-hardware-checklist-memory" target="_blank" rel="noopener noreferrer">Memory</a> for more guidance on memory allocation in MinIO.</p><h3 id="deploy-minio" tabindex="-1"><a class="header-anchor" href="#deploy-minio"><span>Deploy MinIO</span></a></h3><h4 id="_1-下载-minio-debian-ubuntu" tabindex="-1"><a class="header-anchor" href="#_1-下载-minio-debian-ubuntu"><span>1. 下载 MinIO (Debian/Ubuntu)</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">wget</span> https://dl.min.io/server/minio/release/linux-amd64/archive/minio_20250207232109.0.0_amd64.deb <span class="token parameter variable">-O</span> minio.deb</span>
<span class="line"><span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> minio.deb</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>The RPM and DEB packages automatically install MinIO to the necessary system paths and create a minio service for systemctl.</p></blockquote><h4 id="_2-create-the-environment-variable-file" tabindex="-1"><a class="header-anchor" href="#_2-create-the-environment-variable-file"><span>2. Create the Environment Variable File</span></a></h4><p>Create an environment variable file at <code>/etc/default/minio</code>. The MinIO Server container can use this file as the source of all <a href="https://min.io/docs/minio/linux/reference/minio-server/settings.html#minio-server-environment-variables" target="_blank" rel="noopener noreferrer">environment variables</a>.</p><p>The following example provides a starting environment file:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># MINIO_ROOT_USER and MINIO_ROOT_PASSWORD sets the root account for the MinIO server.</span></span>
<span class="line"><span class="token comment"># This user has unrestricted permissions to perform S3 and administrative API operations on any resource in the deployment.</span></span>
<span class="line"><span class="token comment"># Omit to use the default values &#39;minioadmin:minioadmin&#39;.</span></span>
<span class="line"><span class="token comment"># MinIO recommends setting non-default values as a best practice, regardless of environment</span></span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">MINIO_ROOT_USER</span><span class="token operator">=</span>myminioadmin</span>
<span class="line"><span class="token assign-left variable">MINIO_ROOT_PASSWORD</span><span class="token operator">=</span>minio-secret-key-change-me</span>
<span class="line"></span>
<span class="line"><span class="token comment"># MINIO_VOLUMES sets the storage volume or path to use for the MinIO server.</span></span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">MINIO_VOLUMES</span><span class="token operator">=</span><span class="token string">&quot;/mnt/data&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># MINIO_OPTS sets any additional commandline options to pass to the MinIO server.</span></span>
<span class="line"><span class="token comment"># For example, `--console-address :9001` sets the MinIO Console listen port</span></span>
<span class="line"><span class="token assign-left variable">MINIO_OPTS</span><span class="token operator">=</span><span class="token string">&quot;--console-address :9001&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-start-the-minio-service" tabindex="-1"><a class="header-anchor" href="#_3-start-the-minio-service"><span>3. Start the MinIO Service</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl start minio.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Use the following commands to confirm the service is online and functional:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl status minio.service</span>
<span class="line">journalctl <span class="token parameter variable">-f</span> <span class="token parameter variable">-u</span> minio.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>设置自启动</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> minio.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The <code>journalctl</code> output should resemble the following:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">Status:         <span class="token number">1</span> Online, <span class="token number">0</span> Offline.</span>
<span class="line">API: http://192.168.2.100:9000  http://127.0.0.1:9000</span>
<span class="line">RootUser: myminioadmin</span>
<span class="line">RootPass: minio-secret-key-change-me</span>
<span class="line">Console: http://192.168.2.100:9001 http://127.0.0.1:9001</span>
<span class="line">RootUser: myminioadmin</span>
<span class="line">RootPass: minio-secret-key-change-me</span>
<span class="line"></span>
<span class="line">Command-line: https://min.io/docs/minio/linux/reference/minio-mc.html</span>
<span class="line">   $ <span class="token function">mc</span> <span class="token builtin class-name">alias</span> <span class="token builtin class-name">set</span> myminio http://10.0.2.100:9000 myminioadmin minio-secret-key-change-me</span>
<span class="line"></span>
<span class="line">Documentation: https://min.io/docs/minio/linux/index.html</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1308811723@qq.com">RuanCong</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-5tRwRGvW.js" defer></script>
  </body>
</html>
